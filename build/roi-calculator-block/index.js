(()=>{"use strict";var e,r={94:()=>{const e=window.wp.blocks,r=window.wp.i18n,a=window.wp.element,l=window.wp.blockEditor;function t(e){if(""===e||null==e)return 0;const r=Number(e);return isNaN(r)?0:r}const o=JSON.parse('{"UU":"create-block/roi-calculator-block","uK":{"FO":{"A":"Percentage Increase"},"WX":{"A":"Hours"},"m_":{"A":"Days"},"cq":{"A":"Weeks per year"},"pi":{"A":"Units per hour"},"EQ":{"A":"Profit per unit"},"VN":{"A":"Profit per year"},"g9":{"A":"Units per year"},"tP":{"A":"Hours in a week 24/7"},"YK":{"A":"Extra hours"},"HE":{"A":"Extra units per week"},"oR":{"A":"#3e6bfc"},"v_":{"A":"#58ffa8"},"hk":{"A":"#fff"},"WB":{"A":"#fff"}}}'),i=window.wp.components,s=window.React;const c=window.ReactJSXRuntime;(0,e.registerBlockType)(o.UU,{edit:function({attributes:e,setAttributes:n}){const u=(0,l.useBlockProps)({className:"roi-calculator"}),[d,p]=(0,a.useState)(e.baseCurrency||"GBP"),{currencies:v,isLoading:h}=function(){const[e,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{let e=!0;return(async()=>{l(!0);const a=await async function(){try{const e=await fetch("https://api.frankfurter.app/currencies"),r=await e.json();if(r)return Object.entries(r).map((([e,r])=>({label:`${e} - ${r}`,value:e})))}catch(e){console.error("Error fetching currencies:",e)}return[{label:"GBP",value:"GBP"},{label:"USD",value:"USD"},{label:"EUR",value:"EUR"},{label:"JPY",value:"JPY"}]}();e&&r(a),l(!1)})(),()=>{e=!1}}),[]),{currencies:e,isLoading:a}}(),x=function(e,r){const[a,l]=(0,s.useState)(1);return(0,s.useEffect)((()=>{let a=!0;return(async()=>{const t=await async function(e,r){if(!e||!r||e===r)return 1;try{const a=`https://api.frankfurter.app/latest?amount=1&from=${e}&to=${r}`,l=await fetch(a),t=await l.json();if(t&&t.rates&&t.rates[r])return t.rates[r]}catch(e){console.error("Error fetching conversion rate:",e)}return 1}(e,r);a&&l(t)})(),()=>{a=!1}}),[e,r]),a}(e.profitPerUnitCurrency,e.baseCurrency),_=t(e.unitsPerHour),g=function(e,r){const a=parseFloat(e);return isNaN(a)?0:a*r}(t(e.profitPerUnit),x),m=function({percentageIncrease:e,hours:r,days:a,weeksPerYear:l,unitsPerHour:t,profitPerUnit:o}){const i=r*a,s=i*(e/100),c=t*s,n=c*l;return{hoursInWeek:i,extraHours:s,extraUnitsPerWeek:c,unitsPerYear:n,profitPerYear:n*o}}({...e,unitsPerHour:_,profitPerUnit:g});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(l.InspectorControls,{children:[(0,c.jsx)("div",{style:{margin:"16px"},children:(0,c.jsx)(i.SelectControl,{label:(0,r.__)("Base Currency","roi-calculator-block"),value:e.baseCurrency,onChange:e=>n({baseCurrency:e}),options:v,disabled:h,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})}),(0,c.jsx)(l.PanelColorSettings,{title:(0,r.__)("Block Colors","roi-calculator-block"),colorSettings:[{value:e.backgroundColor,onChange:e=>n({backgroundColor:e}),label:(0,r.__)("Background Color","roi-calculator-block")},{value:e.sliderColor,onChange:e=>n({sliderColor:e}),label:(0,r.__)("Slider Color","roi-calculator-block")},{value:e.textColor,onChange:e=>n({textColor:e}),label:(0,r.__)("Text Color","roi-calculator-block")},{value:e.accentColor,onChange:e=>n({accentColor:e}),label:(0,r.__)("Accent Color","roi-calculator-block")}]}),(0,c.jsx)(i.Button,{isSecondary:!0,onClick:()=>{n({backgroundColor:o.uK.oR.A,sliderColor:o.uK.v_.A,textColor:o.uK.hk.A,accentColor:o.uK.WB.A})},style:{margin:"0 16px 16px"},children:(0,r.__)("Reset Colors to Default","roi-calculator-block")})]}),(0,c.jsxs)("div",{...u,style:{"--slider-color":e.sliderColor,"--roi-text-color":e.textColor,"--roi-bg-color":e.backgroundColor,"--roi-accent-color":e.accentColor},children:[(0,c.jsxs)("div",{className:"roi-calculator__inputs",children:[(0,c.jsxs)("div",{className:"roi-calculator__row",children:[(0,c.jsxs)("div",{className:"roi-calculator__field roi-calculator__field--wide",children:[(0,c.jsx)("input",{type:"text",value:e.percentageIncreaseLabel,onChange:e=>n({percentageIncreaseLabel:e.target.value}),placeholder:(0,r.__)(o.uK.FO.A,"roi-calculator-block")}),(0,c.jsxs)("div",{className:"slider-row",children:[(0,c.jsx)("input",{id:"percentage-increase",type:"range",min:1,max:100,step:1,value:e.percentageIncrease,onChange:e=>n({percentageIncrease:Number(e.target.value)}),style:{"--percent":(e.percentageIncrease-1)/99*100+"%"}}),(0,c.jsxs)("span",{className:"slider-value",children:[e.percentageIncrease,"%"]})]})]}),(0,c.jsxs)("div",{className:"roi-calculator__field roi-calculator__field--wide",children:[(0,c.jsx)("input",{type:"text",value:e.hoursLabel,onChange:e=>n({hoursLabel:e.target.value}),placeholder:(0,r.__)(o.uK.WX.A,"roi-calculator-block")}),(0,c.jsxs)("div",{className:"slider-row",children:[(0,c.jsx)("input",{id:"hours",type:"range",min:1,max:24,step:1,value:e.hours,onChange:e=>n({hours:Number(e.target.value)}),style:{"--percent":(e.hours-1)/23*100+"%"}}),(0,c.jsx)("span",{className:"slider-value",children:e.hours})]})]})]}),(0,c.jsxs)("div",{className:"roi-calculator__row",children:[(0,c.jsxs)("div",{className:"roi-calculator__field roi-calculator__field--wide",children:[(0,c.jsx)("input",{type:"text",value:e.daysLabel,onChange:e=>n({daysLabel:e.target.value}),placeholder:(0,r.__)(o.uK.m_.A,"roi-calculator-block")}),(0,c.jsxs)("div",{className:"slider-row",children:[(0,c.jsx)("input",{id:"days",type:"range",min:1,max:31,step:1,value:e.days,onChange:e=>n({days:Number(e.target.value)}),style:{"--percent":(e.days-1)/30*100+"%"}}),(0,c.jsx)("span",{className:"slider-value",children:e.days})]})]}),(0,c.jsxs)("div",{className:"roi-calculator__field roi-calculator__field--wide",children:[(0,c.jsx)("input",{type:"text",value:e.weeksPerYearLabel,onChange:e=>n({weeksPerYearLabel:e.target.value}),placeholder:(0,r.__)(o.uK.cq.A,"roi-calculator-block")}),(0,c.jsxs)("div",{className:"slider-row",children:[(0,c.jsx)("input",{id:"weeks-per-year",type:"range",min:1,max:52,step:1,value:e.weeksPerYear,onChange:e=>n({weeksPerYear:Number(e.target.value)}),style:{"--percent":(e.weeksPerYear-1)/51*100+"%"}}),(0,c.jsx)("span",{className:"slider-value",children:e.weeksPerYear})]})]})]}),(0,c.jsxs)("div",{className:"roi-calculator__row",children:[(0,c.jsxs)("div",{className:"roi-calculator__field",children:[(0,c.jsx)("input",{type:"text",value:e.unitsPerHourLabel,onChange:e=>n({unitsPerHourLabel:e.target.value}),placeholder:(0,r.__)(o.uK.pi.A,"roi-calculator-block")}),(0,c.jsx)("input",{id:"units-per-hour",type:"number",min:0,step:1,value:e.unitsPerHour,onChange:e=>n({unitsPerHour:e.target.value}),onBlur:e=>{const r=parseInt(e.target.value,10);isNaN(r)||n({unitsPerHour:r.toString()})}})]}),(0,c.jsxs)("div",{className:"roi-calculator__field",children:[(0,c.jsx)("input",{type:"text",value:e.profitPerUnitLabel,onChange:e=>n({profitPerUnitLabel:e.target.value}),placeholder:(0,r.__)(o.uK.EQ.A,"roi-calculator-block")}),(0,c.jsxs)("div",{className:"roi-calculator__currency-select-wrapper",children:[(0,c.jsx)("select",{className:"roi-calculator__currency-select",value:e.profitPerUnitCurrency,onChange:e=>n({profitPerUnitCurrency:e.target.value}),disabled:h,children:v.map((e=>(0,c.jsx)("option",{value:e.value,children:e.value},e.value)))}),(0,c.jsx)("input",{type:"number",min:0,step:.01,value:e.profitPerUnit,onChange:e=>n({profitPerUnit:e.target.value}),onBlur:e=>{const r=parseFloat(e.target.value);isNaN(r)||n({profitPerUnit:r.toFixed(2)})}})]})]})]})]}),(0,c.jsx)("div",{className:"roi-calculator__divider"}),(0,c.jsxs)("div",{className:"roi-calculator__results",children:[(0,c.jsxs)("div",{className:"roi-calculator__results-row",children:[(0,c.jsxs)("div",{className:"roi-calculator__result roi-calculator__result--main",children:[(0,c.jsx)("div",{className:"roi-calculator__field",children:(0,c.jsx)("input",{type:"text",value:e.profitPerYearLabel,onChange:e=>n({profitPerYearLabel:e.target.value}),placeholder:(0,r.__)(o.uK.VN.A,"roi-calculator-block")})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{children:e.baseCurrency}),(m.profitPerYear||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,c.jsxs)("div",{className:"roi-calculator__result roi-calculator__result--main",children:[(0,c.jsx)("div",{className:"roi-calculator__field",children:(0,c.jsx)("input",{type:"text",value:e.unitsPerYearLabel,onChange:e=>n({unitsPerYearLabel:e.target.value}),placeholder:(0,r.__)(o.uK.g9.A,"roi-calculator-block")})}),(0,c.jsx)("div",{children:Math.round(m.unitsPerYear||0).toLocaleString(void 0,{maximumFractionDigits:0})})]})]}),(0,c.jsxs)("div",{className:"roi-calculator__results-row",children:[(0,c.jsxs)("div",{className:"roi-calculator__result",children:[(0,c.jsx)("div",{className:"roi-calculator__field",children:(0,c.jsx)("input",{type:"text",value:e.hoursInWeekLabel,onChange:e=>n({hoursInWeekLabel:e.target.value}),placeholder:(0,r.__)(o.uK.tP.A,"roi-calculator-block")})}),(0,c.jsx)("div",{children:(m.hoursInWeek||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,c.jsxs)("div",{className:"roi-calculator__result",children:[(0,c.jsx)("div",{className:"roi-calculator__field",children:(0,c.jsx)("input",{type:"text",value:e.extraHoursLabel,onChange:e=>n({extraHoursLabel:e.target.value}),placeholder:(0,r.__)(o.uK.YK.A,"roi-calculator-block")})}),(0,c.jsx)("div",{children:(m.extraHours||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,c.jsxs)("div",{className:"roi-calculator__result",children:[(0,c.jsx)("div",{className:"roi-calculator__field",children:(0,c.jsx)("input",{type:"text",value:e.extraUnitsPerWeekLabel,onChange:e=>n({extraUnitsPerWeekLabel:e.target.value}),placeholder:(0,r.__)(o.uK.HE.A,"roi-calculator-block")})}),(0,c.jsx)("div",{children:Math.round(m.extraUnitsPerWeek||0).toLocaleString(void 0,{maximumFractionDigits:0})})]})]})]})]})]})},save:function({attributes:e}){const r=l.useBlockProps.save({className:"wp-block-create-block-roi-calculator-block","data-attributes":JSON.stringify(e)});return(0,c.jsx)("div",{...r})}})}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return r[e](o,o.exports,l),o.exports}l.m=r,e=[],l.O=(r,a,t,o)=>{if(!a){var i=1/0;for(u=0;u<e.length;u++){for(var[a,t,o]=e[u],s=!0,c=0;c<a.length;c++)(!1&o||i>=o)&&Object.keys(l.O).every((e=>l.O[e](a[c])))?a.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var n=t();void 0!==n&&(r=n)}}return r}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,t,o]},l.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={649:0,317:0};l.O.j=r=>0===e[r];var r=(r,a)=>{var t,o,[i,s,c]=a,n=0;if(i.some((r=>0!==e[r]))){for(t in s)l.o(s,t)&&(l.m[t]=s[t]);if(c)var u=c(l)}for(r&&r(a);n<i.length;n++)o=i[n],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(u)},a=globalThis.webpackChunkroi_calculator_block=globalThis.webpackChunkroi_calculator_block||[];a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a))})();var t=l.O(void 0,[317],(()=>l(94)));t=l.O(t)})();