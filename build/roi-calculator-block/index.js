(()=>{"use strict";var e,r={557:()=>{const e=window.wp.blocks,r=window.wp.i18n,a=window.wp.element,l=window.wp.blockEditor;function t(e){if(""===e||null==e)return 0;const r=Number(e);return isNaN(r)?0:r}const o=JSON.parse('{"UU":"create-block/roi-calculator-block","uK":{"FO":{"A":"Percentage Increase"},"WX":{"A":"Hours"},"m_":{"A":"Days"},"cq":{"A":"Weeks per year"},"pi":{"A":"Units per hour"},"EQ":{"A":"Profit per unit"},"VN":{"A":"Profit per year"},"g9":{"A":"Units per year"},"tP":{"A":"Hours in a week 24/7"},"YK":{"A":"Extra hours"},"HE":{"A":"Extra units per week"},"oR":{"A":"#3e6bfc"},"v_":{"A":"#58ffa8"},"hk":{"A":"#fff"},"WB":{"A":"#fff"},"lj":{"A":"GBP"}}}'),c=window.wp.components,s=window.React;function i(e){let r=e.replace("#","");return 3===r.length&&(r=r.split("").map((e=>e+e)).join("")),6!==r.length?"#005fcc":parseInt(r.substr(0,2),16)/255*.2126+parseInt(r.substr(2,2),16)/255*.7152+parseInt(r.substr(4,2),16)/255*.0722<.5?"#fff":"#000"}const n=window.ReactJSXRuntime;(0,e.registerBlockType)(o.UU,{edit:function({attributes:e,setAttributes:u}){const d=(0,l.useBlockProps)({className:"roi-calculator"}),[_,b]=(0,a.useState)(e.baseCurrency||"GBP"),{currencies:p,isLoading:h}=function(){const[e,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{let e=!0;return(async()=>{l(!0);const a=await async function(){try{const e=await fetch("https://api.frankfurter.app/currencies"),r=await e.json();if(r)return Object.entries(r).map((([e,r])=>({label:`${e} - ${r}`,value:e})))}catch(e){console.error("Error fetching currencies:",e)}return[{label:"GBP",value:"GBP"},{label:"USD",value:"USD"},{label:"EUR",value:"EUR"},{label:"JPY",value:"JPY"}]}();e&&r(a),l(!1)})(),()=>{e=!1}}),[]),{currencies:e,isLoading:a}}(),m=function(e,r){const[a,l]=(0,s.useState)(1);return(0,s.useEffect)((()=>{let a=!0;return(async()=>{const t=await async function(e,r){if(!e||!r||e===r)return 1;try{const a=`https://api.frankfurter.app/latest?amount=1&from=${e}&to=${r}`,l=await fetch(a),t=await l.json();if(t&&t.rates&&t.rates[r])return t.rates[r]}catch(e){console.error("Error fetching conversion rate:",e)}return 1}(e,r);a&&l(t)})(),()=>{a=!1}}),[e,r]),a}(e.profitPerUnitCurrency,e.baseCurrency),v=t(e.unitsPerHour),x=function(e,r){const a=parseFloat(e);return isNaN(a)?0:a*r}(t(e.profitPerUnit),m),g=function({percentageIncrease:e,hours:r,days:a,weeksPerYear:l,unitsPerHour:t,profitPerUnit:o}){const c=r*a,s=c*(e/100),i=t*s,n=i*l;return{hoursInWeek:c,extraHours:s,extraUnitsPerWeek:i,unitsPerYear:n,profitPerYear:n*o}}({...e,unitsPerHour:v,profitPerUnit:x});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.InspectorControls,{children:[(0,n.jsx)("div",{style:{margin:"16px"},children:(0,n.jsx)(c.SelectControl,{label:(0,r.__)("Base Currency","roi-calculator-block"),value:e.baseCurrency,onChange:e=>u({baseCurrency:e}),options:p,disabled:h,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})}),(0,n.jsx)(l.PanelColorSettings,{title:(0,r.__)("Block Colors","roi-calculator-block"),colorSettings:[{value:e.backgroundColor,onChange:e=>u({backgroundColor:e}),label:(0,r.__)("Background Color","roi-calculator-block")},{value:e.sliderColor,onChange:e=>u({sliderColor:e}),label:(0,r.__)("Slider Color","roi-calculator-block")},{value:e.textColor,onChange:e=>u({textColor:e}),label:(0,r.__)("Text Color","roi-calculator-block")},{value:e.accentColor,onChange:e=>u({accentColor:e}),label:(0,r.__)("Accent Color","roi-calculator-block")}]}),(0,n.jsx)(c.Button,{isSecondary:!0,onClick:()=>{u({backgroundColor:o.uK.oR.A,sliderColor:o.uK.v_.A,textColor:o.uK.hk.A,accentColor:o.uK.WB.A})},style:{margin:"0 16px 16px"},children:(0,r.__)("Reset Colors to Default","roi-calculator-block")})]}),(0,n.jsxs)("div",{...d,style:{"--slider-color":e.sliderColor,"--roi-text-color":e.textColor,"--roi-bg-color":e.backgroundColor,"--roi-accent-color":e.accentColor,"--roi-outline-color":i(e.backgroundColor)},children:[(0,n.jsxs)("div",{className:"roi-calculator__inputs",children:[(0,n.jsxs)("div",{className:"roi-calculator__row",children:[(0,n.jsxs)("div",{className:"roi-calculator__field",children:[(0,n.jsx)("label",{htmlFor:"percentage-increase",className:"screen-reader-text",children:e.percentageIncreaseLabel||(0,r.__)(o.uK.FO.A,"roi-calculator-block")}),(0,n.jsx)("input",{type:"text",value:e.percentageIncreaseLabel,onChange:e=>u({percentageIncreaseLabel:e.target.value}),placeholder:(0,r.__)(o.uK.FO.A,"roi-calculator-block"),"aria-label":e.percentageIncreaseLabel||(0,r.__)(o.uK.FO.A,"roi-calculator-block")}),(0,n.jsxs)("div",{className:"slider-row",children:[(0,n.jsx)("input",{id:"percentage-increase",type:"range",min:1,max:100,step:1,value:e.percentageIncrease,onChange:e=>u({percentageIncrease:Number(e.target.value)}),style:{"--percent":(e.percentageIncrease-1)/99*100+"%"},"aria-valuenow":e.percentageIncrease,"aria-valuemin":1,"aria-valuemax":100,"aria-label":e.percentageIncreaseLabel||(0,r.__)(o.uK.FO.A,"roi-calculator-block")}),(0,n.jsxs)("span",{className:"slider-value",children:[e.percentageIncrease,"%"]})]})]}),(0,n.jsxs)("div",{className:"roi-calculator__field",children:[(0,n.jsx)("label",{htmlFor:"hours",className:"screen-reader-text",children:e.hoursLabel||(0,r.__)(o.uK.WX.A,"roi-calculator-block")}),(0,n.jsx)("input",{type:"text",value:e.hoursLabel,onChange:e=>u({hoursLabel:e.target.value}),placeholder:(0,r.__)(o.uK.WX.A,"roi-calculator-block"),"aria-label":e.hoursLabel||(0,r.__)(o.uK.WX.A,"roi-calculator-block")}),(0,n.jsxs)("div",{className:"slider-row",children:[(0,n.jsx)("input",{id:"hours",type:"range",min:1,max:24,step:1,value:e.hours,onChange:e=>u({hours:Number(e.target.value)}),style:{"--percent":(e.hours-1)/23*100+"%"},"aria-valuenow":e.hours,"aria-valuemin":1,"aria-valuemax":24,"aria-label":e.hoursLabel||(0,r.__)(o.uK.WX.A,"roi-calculator-block")}),(0,n.jsx)("span",{className:"slider-value",children:e.hours})]})]})]}),(0,n.jsxs)("div",{className:"roi-calculator__row",children:[(0,n.jsxs)("div",{className:"roi-calculator__field",children:[(0,n.jsx)("label",{htmlFor:"days",className:"screen-reader-text",children:e.daysLabel||(0,r.__)(o.uK.m_.A,"roi-calculator-block")}),(0,n.jsx)("input",{type:"text",value:e.daysLabel,onChange:e=>u({daysLabel:e.target.value}),placeholder:(0,r.__)(o.uK.m_.A,"roi-calculator-block"),"aria-label":e.daysLabel||(0,r.__)(o.uK.m_.A,"roi-calculator-block")}),(0,n.jsxs)("div",{className:"slider-row",children:[(0,n.jsx)("input",{id:"days",type:"range",min:1,max:31,step:1,value:e.days,onChange:e=>u({days:Number(e.target.value)}),style:{"--percent":(e.days-1)/30*100+"%"},"aria-valuenow":e.days,"aria-valuemin":1,"aria-valuemax":31,"aria-label":e.daysLabel||(0,r.__)(o.uK.m_.A,"roi-calculator-block")}),(0,n.jsx)("span",{className:"slider-value",children:e.days})]})]}),(0,n.jsxs)("div",{className:"roi-calculator__field",children:[(0,n.jsx)("label",{htmlFor:"weeks-per-year",className:"screen-reader-text",children:e.weeksPerYearLabel||(0,r.__)(o.uK.cq.A,"roi-calculator-block")}),(0,n.jsx)("input",{type:"text",value:e.weeksPerYearLabel,onChange:e=>u({weeksPerYearLabel:e.target.value}),placeholder:(0,r.__)(o.uK.cq.A,"roi-calculator-block"),"aria-label":e.weeksPerYearLabel||(0,r.__)(o.uK.cq.A,"roi-calculator-block")}),(0,n.jsxs)("div",{className:"slider-row",children:[(0,n.jsx)("input",{id:"weeks-per-year",type:"range",min:1,max:52,step:1,value:e.weeksPerYear,onChange:e=>u({weeksPerYear:Number(e.target.value)}),style:{"--percent":(e.weeksPerYear-1)/51*100+"%"},"aria-valuenow":e.weeksPerYear,"aria-valuemin":1,"aria-valuemax":52,"aria-label":e.weeksPerYearLabel||(0,r.__)(o.uK.cq.A,"roi-calculator-block")}),(0,n.jsx)("span",{className:"slider-value",children:e.weeksPerYear})]})]})]}),(0,n.jsxs)("div",{className:"roi-calculator__row",children:[(0,n.jsxs)("div",{className:"roi-calculator__field",children:[(0,n.jsx)("label",{htmlFor:"units-per-hour",className:"screen-reader-text",children:e.unitsPerHourLabel||(0,r.__)(o.uK.pi.A,"roi-calculator-block")}),(0,n.jsx)("input",{type:"text",value:e.unitsPerHourLabel,onChange:e=>u({unitsPerHourLabel:e.target.value}),placeholder:(0,r.__)(o.uK.pi.A,"roi-calculator-block"),"aria-label":e.unitsPerHourLabel||(0,r.__)(o.uK.pi.A,"roi-calculator-block")}),(0,n.jsxs)("div",{className:"roi-calculator__field",children:[(0,n.jsx)("label",{htmlFor:"units-per-hour",className:"screen-reader-text",children:e.unitsPerHourLabel||(0,r.__)(o.uK.pi.A,"roi-calculator-block")}),(0,n.jsx)("input",{id:"units-per-hour",type:"number",min:0,step:1,value:e.unitsPerHour,onChange:e=>u({unitsPerHour:e.target.value}),onBlur:e=>{const r=parseInt(e.target.value,10);isNaN(r)||u({unitsPerHour:r.toString()})},"aria-label":e.unitsPerHourLabel||(0,r.__)(o.uK.pi.A,"roi-calculator-block")})]})]}),(0,n.jsxs)("div",{className:"roi-calculator__field",children:[(0,n.jsx)("label",{htmlFor:"profit-per-unit",className:"screen-reader-text",children:e.profitPerUnitLabel||(0,r.__)(o.uK.EQ.A,"roi-calculator-block")}),(0,n.jsx)("input",{type:"text",value:e.profitPerUnitLabel,onChange:e=>u({profitPerUnitLabel:e.target.value}),placeholder:(0,r.__)(o.uK.EQ.A,"roi-calculator-block"),"aria-label":e.profitPerUnitLabel||(0,r.__)(o.uK.EQ.A,"roi-calculator-block")}),(0,n.jsxs)("div",{className:"roi-calculator__currency-select-wrapper",children:[(0,n.jsx)("select",{className:"roi-calculator__currency-select",value:e.profitPerUnitCurrency,onChange:e=>u({profitPerUnitCurrency:e.target.value}),disabled:h,"aria-label":e.profitPerUnitCurrency||(0,r.__)(o.uK.lj.A,"roi-calculator-block"),children:p.map((e=>(0,n.jsx)("option",{value:e.value,children:e.value},e.value)))}),(0,n.jsx)("input",{type:"number",min:0,step:.01,value:e.profitPerUnit,onChange:e=>u({profitPerUnit:e.target.value}),onBlur:e=>{const r=parseFloat(e.target.value);isNaN(r)||u({profitPerUnit:r.toFixed(2)})},"aria-label":e.profitPerUnitLabel||(0,r.__)(o.uK.EQ.A,"roi-calculator-block"),"aria-valuenow":e.profitPerUnit,"aria-valuemin":0})]})]})]})]}),(0,n.jsx)("div",{className:"roi-calculator__divider"}),(0,n.jsx)("div",{className:"roi-calculator__results","aria-live":"polite",children:(0,n.jsxs)("dl",{children:[(0,n.jsxs)("div",{className:"roi-calculator__results-row",children:[(0,n.jsxs)("div",{className:"roi-calculator__result roi-calculator__result--main",children:[(0,n.jsx)("dt",{className:"roi-calculator__result-label",children:e.profitPerYearLabel||(0,r.__)(o.uK.VN.A,"roi-calculator-block")}),(0,n.jsxs)("dd",{className:"roi-calculator__result-value",children:[(0,n.jsx)("span",{children:e.baseCurrency}),(g.profitPerYear||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,n.jsxs)("div",{className:"roi-calculator__result roi-calculator__result--main",children:[(0,n.jsx)("dt",{className:"roi-calculator__result-label",children:e.unitsPerYearLabel||(0,r.__)(o.uK.g9.A,"roi-calculator-block")}),(0,n.jsx)("dd",{className:"roi-calculator__result-value",children:Math.round(g.unitsPerYear||0).toLocaleString(void 0,{maximumFractionDigits:0})})]})]}),(0,n.jsxs)("div",{className:"roi-calculator__results-row",children:[(0,n.jsxs)("div",{className:"roi-calculator__result",children:[(0,n.jsx)("dt",{className:"roi-calculator__result-label",children:e.hoursInWeekLabel||(0,r.__)(o.uK.tP.A,"roi-calculator-block")}),(0,n.jsx)("dd",{className:"roi-calculator__result-value",children:(g.hoursInWeek||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,n.jsxs)("div",{className:"roi-calculator__result",children:[(0,n.jsx)("dt",{className:"roi-calculator__result-label",children:e.extraHoursLabel||(0,r.__)(o.uK.YK.A,"roi-calculator-block")}),(0,n.jsx)("dd",{className:"roi-calculator__result-value",children:(g.extraHours||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,n.jsxs)("div",{className:"roi-calculator__result",children:[(0,n.jsx)("dt",{className:"roi-calculator__result-label",children:e.extraUnitsPerWeekLabel||(0,r.__)(o.uK.HE.A,"roi-calculator-block")}),(0,n.jsx)("dd",{className:"roi-calculator__result-value",children:Math.round(g.extraUnitsPerWeek||0).toLocaleString(void 0,{maximumFractionDigits:0})})]})]})]})})]})]})},save:function({attributes:e}){const r=l.useBlockProps.save({className:"wp-block-create-block-roi-calculator-block","data-attributes":JSON.stringify(e)});return(0,n.jsx)("div",{...r})}})}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return r[e](o,o.exports,l),o.exports}l.m=r,e=[],l.O=(r,a,t,o)=>{if(!a){var c=1/0;for(u=0;u<e.length;u++){for(var[a,t,o]=e[u],s=!0,i=0;i<a.length;i++)(!1&o||c>=o)&&Object.keys(l.O).every((e=>l.O[e](a[i])))?a.splice(i--,1):(s=!1,o<c&&(c=o));if(s){e.splice(u--,1);var n=t();void 0!==n&&(r=n)}}return r}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,t,o]},l.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={649:0,317:0};l.O.j=r=>0===e[r];var r=(r,a)=>{var t,o,[c,s,i]=a,n=0;if(c.some((r=>0!==e[r]))){for(t in s)l.o(s,t)&&(l.m[t]=s[t]);if(i)var u=i(l)}for(r&&r(a);n<c.length;n++)o=c[n],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(u)},a=globalThis.webpackChunkroi_calculator_block=globalThis.webpackChunkroi_calculator_block||[];a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a))})();var t=l.O(void 0,[317],(()=>l(557)));t=l.O(t)})();