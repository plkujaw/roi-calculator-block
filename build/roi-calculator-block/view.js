(()=>{"use strict";const e=window.wp.element;function r(e){if(""===e||null==e)return 0;const r=Number(e);return isNaN(r)?0:r}const a=JSON.parse('{"uK":{"FO":{"A":"Percentage Increase"},"WX":{"A":"Hours"},"m_":{"A":"Days"},"cq":{"A":"Weeks per year"},"pi":{"A":"Units per hour"},"EQ":{"A":"Profit per unit"},"VN":{"A":"Profit per year"},"g9":{"A":"Units per year"},"tP":{"A":"Hours in a week 24/7"},"YK":{"A":"Extra hours"},"HE":{"A":"Extra units per week"}}}'),s=window.wp.i18n,i=window.React;const t=window.ReactJSXRuntime;function l(l){const[c,n]=(0,e.useState)({...l}),[o,u]=(0,e.useState)(l.baseCurrency||"GBP"),{currencies:d,isLoading:m}=function(){const[e,r]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{let e=!0;return(async()=>{s(!0);const a=await async function(){try{const e=await fetch("https://api.frankfurter.app/currencies"),r=await e.json();if(r)return Object.entries(r).map((([e,r])=>({label:`${e} - ${r}`,value:e})))}catch(e){console.error("Error fetching currencies:",e)}return[{label:"GBP",value:"GBP"},{label:"USD",value:"USD"},{label:"EUR",value:"EUR"},{label:"JPY",value:"JPY"}]}();e&&r(a),s(!1)})(),()=>{e=!1}}),[]),{currencies:e,isLoading:a}}(),p=function(e,r){const[a,s]=(0,i.useState)(1);return(0,i.useEffect)((()=>{let a=!0;return(async()=>{const i=await async function(e,r){if(!e||!r||e===r)return 1;try{const a=`https://api.frankfurter.app/latest?amount=1&from=${e}&to=${r}`,s=await fetch(a),i=await s.json();if(i&&i.rates&&i.rates[r])return i.rates[r]}catch(e){console.error("Error fetching conversion rate:",e)}return 1}(e,r);a&&s(i)})(),()=>{a=!1}}),[e,r]),a}(c.profitPerUnitCurrency,l.baseCurrency),_=(e,r)=>{n((a=>({...a,[e]:r})))},h=r(c.unitsPerHour),x=function(e,r){const a=parseFloat(e);return isNaN(a)?0:a*r}(r(c.profitPerUnit),p),v=function({percentageIncrease:e,hours:r,days:a,weeksPerYear:s,unitsPerHour:i,profitPerUnit:t}){const l=r*a,c=l*(e/100),n=i*c,o=n*s;return{hoursInWeek:l,extraHours:c,extraUnitsPerWeek:n,unitsPerYear:o,profitPerYear:o*t}}({...c,unitsPerHour:h,profitPerUnit:x});return(0,t.jsxs)("div",{className:"roi-calculator",style:{"--slider-color":l.sliderColor,"--roi-text-color":l.textColor,"--roi-bg-color":l.backgroundColor,"--roi-accent-color":l.accentColor},children:[(0,t.jsxs)("div",{className:"roi-calculator__inputs",children:[(0,t.jsxs)("div",{className:"roi-calculator__row",children:[(0,t.jsxs)("div",{className:"roi-calculator__field roi-calculator__field--wide",children:[(0,t.jsx)("span",{children:l.percentageIncreaseLabel||(0,s.__)(a.uK.FO.A,"roi-calculator-block")}),(0,t.jsxs)("div",{className:"slider-row",children:[(0,t.jsx)("input",{type:"range",min:1,max:100,value:c.percentageIncrease,onChange:e=>_("percentageIncrease",Number(e.target.value)),style:{"--percent":(c.percentageIncrease-1)/99*100+"%"}}),(0,t.jsxs)("span",{className:"slider-value",children:[c.percentageIncrease,"%"]})]})]}),(0,t.jsxs)("div",{className:"roi-calculator__field roi-calculator__field--wide",children:[(0,t.jsx)("span",{children:l.hoursLabel||(0,s.__)(a.uK.WX.A,"roi-calculator-block")}),(0,t.jsxs)("div",{className:"slider-row",children:[(0,t.jsx)("input",{type:"range",min:1,max:24,value:c.hours,onChange:e=>_("hours",Number(e.target.value)),style:{"--percent":(c.hours-1)/23*100+"%"}}),(0,t.jsx)("span",{className:"slider-value",children:c.hours})]})]})]}),(0,t.jsxs)("div",{className:"roi-calculator__row",children:[(0,t.jsxs)("div",{className:"roi-calculator__field roi-calculator__field--wide",children:[(0,t.jsx)("span",{children:l.daysLabel||(0,s.__)(a.uK.m_.A,"roi-calculator-block")}),(0,t.jsxs)("div",{className:"slider-row",children:[(0,t.jsx)("input",{type:"range",min:1,max:31,value:c.days,onChange:e=>_("days",Number(e.target.value)),style:{"--percent":(c.days-1)/30*100+"%"}}),(0,t.jsx)("span",{className:"slider-value",children:c.days})]})]}),(0,t.jsxs)("div",{className:"roi-calculator__field roi-calculator__field--wide",children:[(0,t.jsx)("span",{children:l.weeksPerYearLabel||(0,s.__)(a.uK.cq.A,"roi-calculator-block")}),(0,t.jsxs)("div",{className:"slider-row",children:[(0,t.jsx)("input",{type:"range",min:1,max:52,value:c.weeksPerYear,onChange:e=>_("weeksPerYear",Number(e.target.value)),style:{"--percent":(c.weeksPerYear-1)/51*100+"%"}}),(0,t.jsx)("span",{className:"slider-value",children:c.weeksPerYear})]})]})]}),(0,t.jsxs)("div",{className:"roi-calculator__row",children:[(0,t.jsxs)("div",{className:"roi-calculator__field",children:[(0,t.jsx)("span",{children:l.unitsPerHourLabel||(0,s.__)(a.uK.pi.A,"roi-calculator-block")}),(0,t.jsx)("input",{type:"number",min:0,step:1,value:c.unitsPerHour,onChange:e=>_("unitsPerHour",e.target.value),onBlur:e=>{const r=parseInt(e.target.value,10);isNaN(r)||_("unitsPerHour",r.toString())}})]}),(0,t.jsxs)("div",{className:"roi-calculator__field",children:[(0,t.jsx)("span",{children:l.profitPerUnitLabel||(0,s.__)(a.uK.EQ.A,"roi-calculator-block")}),(0,t.jsxs)("div",{className:"roi-calculator__currency-select-wrapper",children:[(0,t.jsx)("select",{className:"roi-calculator__currency-select",value:c.profitPerUnitCurrency,onChange:e=>_("profitPerUnitCurrency",e.target.value),disabled:m,children:d.map((e=>(0,t.jsx)("option",{value:e.value,children:e.value},e.value)))}),(0,t.jsx)("input",{type:"number",min:0,step:.01,value:c.profitPerUnit,onChange:e=>_("profitPerUnit",e.target.value),onBlur:e=>{const r=parseFloat(e.target.value);isNaN(r)||_("profitPerUnit",r.toFixed(2))}})]})]})]})]}),(0,t.jsx)("div",{className:"roi-calculator__divider"}),(0,t.jsxs)("div",{className:"roi-calculator__results",children:[(0,t.jsxs)("div",{className:"roi-calculator__results-row",children:[(0,t.jsxs)("div",{className:"roi-calculator__result roi-calculator__result--main",children:[l.profitPerYearLabel||(0,s.__)(a.uK.VN.A,"roi-calculator-block"),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:l.baseCurrency}),(v.profitPerYear||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,t.jsxs)("div",{className:"roi-calculator__result roi-calculator__result--main",children:[l.unitsPerYearLabel||(0,s.__)(a.uK.g9.A,"roi-calculator-block"),(0,t.jsx)("div",{children:Math.round(v.unitsPerYear||0).toLocaleString(void 0,{maximumFractionDigits:0})})]})]}),(0,t.jsxs)("div",{className:"roi-calculator__results-row",children:[(0,t.jsxs)("div",{className:"roi-calculator__result",children:[l.hoursInWeekLabel||(0,s.__)(a.uK.tP.A,"roi-calculator-block"),(0,t.jsx)("div",{children:(v.hoursInWeek||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,t.jsxs)("div",{className:"roi-calculator__result",children:[l.extraHoursLabel||(0,s.__)(a.uK.YK.A,"roi-calculator-block"),(0,t.jsx)("div",{children:(v.extraHours||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,t.jsxs)("div",{className:"roi-calculator__result",children:[l.extraUnitsPerWeekLabel||(0,s.__)(a.uK.HE.A,"roi-calculator-block"),(0,t.jsx)("div",{children:Math.round(v.extraUnitsPerWeek||0).toLocaleString(void 0,{maximumFractionDigits:0})})]})]})]})]})}document.querySelectorAll(".wp-block-create-block-roi-calculator-block").forEach((r=>{const a=JSON.parse(r.dataset.attributes||"{}");(0,e.render)((0,t.jsx)(l,{...a}),r)}))})();