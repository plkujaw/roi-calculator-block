(()=>{"use strict";const e=window.wp.element;function r(e){if(""===e||null==e)return 0;const r=Number(e);return isNaN(r)?0:r}const a=JSON.parse('{"uK":{"FO":{"A":"Percentage Increase"},"WX":{"A":"Hours"},"m_":{"A":"Days"},"cq":{"A":"Weeks per year"},"pi":{"A":"Units per hour"},"EQ":{"A":"Profit per unit"},"VN":{"A":"Profit per year"},"g9":{"A":"Units per year"},"tP":{"A":"Hours in a week 24/7"},"YK":{"A":"Extra hours"},"HE":{"A":"Extra units per week"}}}'),l=window.wp.i18n,s=window.React;function c(e){let r=e.replace("#","");return 3===r.length&&(r=r.split("").map((e=>e+e)).join("")),6!==r.length?"#005fcc":parseInt(r.substr(0,2),16)/255*.2126+parseInt(r.substr(2,2),16)/255*.7152+parseInt(r.substr(4,2),16)/255*.0722<.5?"#fff":"#000"}const i=window.ReactJSXRuntime;function t(t){const[o,n]=(0,e.useState)({...t}),[u,d]=(0,e.useState)(t.baseCurrency||"GBP"),{currencies:_,isLoading:m}=function(){const[e,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{let e=!0;return(async()=>{l(!0);const a=await async function(){try{const e=await fetch("https://api.frankfurter.app/currencies"),r=await e.json();if(r)return Object.entries(r).map((([e,r])=>({label:`${e} - ${r}`,value:e})))}catch(e){console.error("Error fetching currencies:",e)}return[{label:"GBP",value:"GBP"},{label:"USD",value:"USD"},{label:"EUR",value:"EUR"},{label:"JPY",value:"JPY"}]}();e&&r(a),l(!1)})(),()=>{e=!1}}),[]),{currencies:e,isLoading:a}}(),p=function(e,r){const[a,l]=(0,s.useState)(1);return(0,s.useEffect)((()=>{let a=!0;return(async()=>{const s=await async function(e,r){if(!e||!r||e===r)return 1;try{const a=`https://api.frankfurter.app/latest?amount=1&from=${e}&to=${r}`,l=await fetch(a),s=await l.json();if(s&&s.rates&&s.rates[r])return s.rates[r]}catch(e){console.error("Error fetching conversion rate:",e)}return 1}(e,r);a&&l(s)})(),()=>{a=!1}}),[e,r]),a}(o.profitPerUnitCurrency,t.baseCurrency),h=(e,r)=>{n((a=>({...a,[e]:r})))},b=r(o.unitsPerHour),x=function(e,r){const a=parseFloat(e);return isNaN(a)?0:a*r}(r(o.profitPerUnit),p),v=function({percentageIncrease:e,hours:r,days:a,weeksPerYear:l,unitsPerHour:s,profitPerUnit:c}){const i=r*a,t=i*(e/100),o=s*t,n=o*l;return{hoursInWeek:i,extraHours:t,extraUnitsPerWeek:o,unitsPerYear:n,profitPerYear:n*c}}({...o,unitsPerHour:b,profitPerUnit:x});return(0,i.jsxs)("div",{className:"roi-calculator",style:{"--slider-color":t.sliderColor,"--roi-text-color":t.textColor,"--roi-bg-color":t.backgroundColor,"--roi-accent-color":t.accentColor,"--roi-outline-color":c(t.backgroundColor)},children:[(0,i.jsxs)("div",{className:"roi-calculator__inputs",children:[(0,i.jsxs)("div",{className:"roi-calculator__row",children:[(0,i.jsxs)("div",{className:"roi-calculator__field",children:[(0,i.jsx)("label",{htmlFor:"percentage-increase",className:"screen-reader-text",children:t.percentageIncreaseLabel||(0,l.__)(a.uK.FO.A,"roi-calculator-block")}),(0,i.jsx)("span",{children:t.percentageIncreaseLabel||(0,l.__)(a.uK.FO.A,"roi-calculator-block")}),(0,i.jsxs)("div",{className:"slider-row",children:[(0,i.jsx)("input",{id:"percentage-increase",type:"range",min:1,max:100,value:o.percentageIncrease,disabled:!0,style:{"--percent":(o.percentageIncrease-1)/99*100+"%"},"aria-valuenow":o.percentageIncrease,"aria-valuemin":1,"aria-valuemax":100,"aria-label":t.percentageIncreaseLabel||(0,l.__)(a.uK.FO.A,"roi-calculator-block")}),(0,i.jsxs)("span",{className:"slider-value",children:[o.percentageIncrease,"%"]})]})]}),(0,i.jsxs)("div",{className:"roi-calculator__field",children:[(0,i.jsx)("label",{htmlFor:"hours",className:"screen-reader-text",children:t.hoursLabel||(0,l.__)(a.uK.WX.A,"roi-calculator-block")}),(0,i.jsx)("span",{children:t.hoursLabel||(0,l.__)(a.uK.WX.A,"roi-calculator-block")}),(0,i.jsxs)("div",{className:"slider-row",children:[(0,i.jsx)("input",{id:"hours",type:"range",min:1,max:24,value:o.hours,onChange:e=>h("hours",Number(e.target.value)),style:{"--percent":(o.hours-1)/23*100+"%"},"aria-valuenow":o.hours,"aria-valuemin":1,"aria-valuemax":24,"aria-label":t.hoursLabel||(0,l.__)(a.uK.WX.A,"roi-calculator-block")}),(0,i.jsx)("span",{className:"slider-value",children:o.hours})]})]})]}),(0,i.jsxs)("div",{className:"roi-calculator__row",children:[(0,i.jsxs)("div",{className:"roi-calculator__field",children:[(0,i.jsx)("label",{htmlFor:"days",className:"screen-reader-text",children:t.daysLabel||(0,l.__)(a.uK.m_.A,"roi-calculator-block")}),(0,i.jsx)("span",{children:t.daysLabel||(0,l.__)(a.uK.m_.A,"roi-calculator-block")}),(0,i.jsxs)("div",{className:"slider-row",children:[(0,i.jsx)("input",{id:"days",type:"range",min:1,max:31,value:o.days,onChange:e=>h("days",Number(e.target.value)),style:{"--percent":(o.days-1)/30*100+"%"},"aria-valuenow":o.days,"aria-valuemin":1,"aria-valuemax":31,"aria-label":t.daysLabel||(0,l.__)(a.uK.m_.A,"roi-calculator-block")}),(0,i.jsx)("span",{className:"slider-value",children:o.days})]})]}),(0,i.jsxs)("div",{className:"roi-calculator__field",children:[(0,i.jsx)("label",{htmlFor:"weeks-per-year",className:"screen-reader-text",children:t.weeksPerYearLabel||(0,l.__)(a.uK.cq.A,"roi-calculator-block")}),(0,i.jsx)("span",{children:t.weeksPerYearLabel||(0,l.__)(a.uK.cq.A,"roi-calculator-block")}),(0,i.jsxs)("div",{className:"slider-row",children:[(0,i.jsx)("input",{id:"weeks-per-year",type:"range",min:1,max:52,value:o.weeksPerYear,onChange:e=>h("weeksPerYear",Number(e.target.value)),style:{"--percent":(o.weeksPerYear-1)/51*100+"%"},"aria-valuenow":o.weeksPerYear,"aria-valuemin":1,"aria-valuemax":52,"aria-label":t.weeksPerYearLabel||(0,l.__)(a.uK.cq.A,"roi-calculator-block")}),(0,i.jsx)("span",{className:"slider-value",children:o.weeksPerYear})]})]})]}),(0,i.jsxs)("div",{className:"roi-calculator__row",children:[(0,i.jsxs)("div",{className:"roi-calculator__field",children:[(0,i.jsx)("label",{htmlFor:"units-per-hour",className:"screen-reader-text",children:t.unitsPerHourLabel||(0,l.__)(a.uK.pi.A,"roi-calculator-block")}),(0,i.jsx)("span",{children:t.unitsPerHourLabel||(0,l.__)(a.uK.pi.A,"roi-calculator-block")}),(0,i.jsx)("input",{id:"units-per-hour",type:"number",min:0,step:1,value:o.unitsPerHour,onChange:e=>h("unitsPerHour",e.target.value),onBlur:e=>{const r=parseInt(e.target.value,10);isNaN(r)||h("unitsPerHour",r.toString())},"aria-label":t.unitsPerHourLabel||(0,l.__)(a.uK.pi.A,"roi-calculator-block"),"aria-valuenow":o.unitsPerHour,"aria-valuemin":0})]}),(0,i.jsxs)("div",{className:"roi-calculator__field",children:[(0,i.jsx)("label",{htmlFor:"profit-per-unit-currency",className:"screen-reader-text",children:t.profitPerUnitLabel||(0,l.__)(a.uK.EQ.A,"roi-calculator-block")}),(0,i.jsx)("span",{children:t.profitPerUnitLabel||(0,l.__)(a.uK.EQ.A,"roi-calculator-block")}),(0,i.jsxs)("div",{className:"roi-calculator__currency-select-wrapper",children:[(0,i.jsx)("select",{id:"profit-per-unit-currency",className:"roi-calculator__currency-select",value:o.profitPerUnitCurrency,onChange:e=>h("profitPerUnitCurrency",e.target.value),disabled:m,"aria-label":t.profitPerUnitLabel||(0,l.__)(a.uK.EQ.A,"roi-calculator-block"),children:_.map((e=>(0,i.jsx)("option",{value:e.value,children:e.value},e.value)))}),(0,i.jsx)("input",{id:"profit-per-unit",type:"number",min:0,step:.01,value:o.profitPerUnit,onChange:e=>h("profitPerUnit",e.target.value),onBlur:e=>{const r=parseFloat(e.target.value);isNaN(r)||h("profitPerUnit",r.toFixed(2))},"aria-label":t.profitPerUnitLabel||(0,l.__)(a.uK.EQ.A,"roi-calculator-block"),"aria-valuenow":o.profitPerUnit,"aria-valuemin":0})]})]})]})]}),(0,i.jsx)("div",{className:"roi-calculator__divider"}),(0,i.jsx)("div",{className:"roi-calculator__results","aria-live":"polite",children:(0,i.jsxs)("dl",{className:"roi-calculator__results-table",children:[(0,i.jsxs)("div",{className:"roi-calculator__results-row",children:[(0,i.jsxs)("div",{className:"roi-calculator__result roi-calculator__result--main",children:[(0,i.jsx)("dt",{className:"roi-calculator__result-label",children:t.profitPerYearLabel||(0,l.__)(a.uK.VN.A,"roi-calculator-block")}),(0,i.jsxs)("dd",{className:"roi-calculator__result-value",children:[(0,i.jsx)("span",{children:t.baseCurrency}),(v.profitPerYear||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,i.jsxs)("div",{className:"roi-calculator__result roi-calculator__result--main",children:[(0,i.jsx)("dt",{className:"roi-calculator__result-label",children:t.unitsPerYearLabel||(0,l.__)(a.uK.g9.A,"roi-calculator-block")}),(0,i.jsx)("dd",{className:"roi-calculator__result-value",children:Math.round(v.unitsPerYear||0).toLocaleString(void 0,{maximumFractionDigits:0})})]})]}),(0,i.jsxs)("div",{className:"roi-calculator__results-row",children:[(0,i.jsxs)("div",{className:"roi-calculator__result",children:[(0,i.jsx)("dt",{className:"roi-calculator__result-label",children:t.hoursInWeekLabel||(0,l.__)(a.uK.tP.A,"roi-calculator-block")}),(0,i.jsx)("dd",{className:"roi-calculator__result-value",children:(v.hoursInWeek||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,i.jsxs)("div",{className:"roi-calculator__result",children:[(0,i.jsx)("dt",{className:"roi-calculator__result-label",children:t.extraHoursLabel||(0,l.__)(a.uK.YK.A,"roi-calculator-block")}),(0,i.jsx)("dd",{className:"roi-calculator__result-value",children:(v.extraHours||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),(0,i.jsxs)("div",{className:"roi-calculator__result",children:[(0,i.jsx)("dt",{className:"roi-calculator__result-label",children:t.extraUnitsPerWeekLabel||(0,l.__)(a.uK.HE.A,"roi-calculator-block")}),(0,i.jsx)("dd",{className:"roi-calculator__result-value",children:Math.round(v.extraUnitsPerWeek||0).toLocaleString(void 0,{maximumFractionDigits:0})})]})]})]})})]})}document.querySelectorAll(".wp-block-create-block-roi-calculator-block").forEach((r=>{const a=JSON.parse(r.dataset.attributes||"{}");(0,e.render)((0,i.jsx)(t,{...a}),r)}))})();